---
import MainLayout from "../layouts/MainLayout.astro";
import "../styles/global.css";
import {siteConfig} from "../config/siteConfig.ts";
import { getCollection } from "astro:content";
//import BlogPost from "../components/BlogPost.astro";
import TypedBlogPost from "../components/TypedBlogPost.astro";

//const posts = await Astro.glob("./posts/*.{md,mdx}");

const blogPosts = await getCollection('blog', (post) => post.data.isDraft == false);


---

<MainLayout title="Blog">
	<!-- component -->
<section class="bg-white dark:bg-gray-900">
    <div class="container px-6 py-10 mx-auto">
        <h1 class="text-3xl font-semibold text-gray-800 capitalize lg:text-4xl dark:text-white">{siteConfig.title }</h1>
        <a href="/blog/1">Blog Paginado</a>
        <a href="/authors">Autores</a>

        <div class="grid grid-cols-1 gap-8 mt-8 md:mt-16 md:grid-cols-2">

             {
            blogPosts.map((post) => 
                <TypedBlogPost post = {post} />)
            }   
          <!--  {
            posts.map((post) => 
                <BlogPost {...post} />)
            } --> 
        </div>
    </div>
</section>
</MainLayout>

<style>
 a {
  color: white;              /* text-white */
  padding: 0.5rem;           /* p-2 */
  border-radius: 0.25rem;    /* rounded */
  cursor: pointer;           /* cursor-pointer */
  transition: background-color 0.2s ease-in-out;
}

a.disabled {
  background-color: #4b5563; /* bg-gray-600 */
  pointer-events: none;
}

a.disabled:hover {
  background-color: #4b5563; /* hover:bg-gray-600 (no change) */
}
</style>